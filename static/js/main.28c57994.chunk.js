(this.webpackJsonpgreytip_frontend=this.webpackJsonpgreytip_frontend||[]).push([[0],{177:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(36),o=a.n(c),s=a(23),i=a(12),l=(a(91),a(92),a(93),a(20)),m={UPDATE_LOADING:"UPDATE_LOADING",GET_ITEMS:"GET_ITEMS",GET_ITEMS_SUCCESS:"GET_ITEMS_SUCCESS",GET_ITEMS_FAILURE:"GET_ITEMS_FAILURE",ADD_ITEM:"ADD_ITEM",UPDATE_ITEM:"UPDATE_ITEM",DELETE_ITEM:"DELETE_ITEM",ITEMS_FILTER_CHANGE:"ITEMS_FILTER_CHANGE",CLEAR_ITEMS_LIST:"CLEAR_ITEMS_LIST",SAVE_USER:"SAVE_USER",USER_LOGOUT:"USER_LOGOUT"},u=function(){return{type:m.GET_ITEMS}},d=function(e){return{type:m.ITEMS_FILTER_CHANGE,payload:e}},E=a(72),h=a.n(E),p=a(178),f=a(179),g=a(180);function v(e){return n.a.createElement("svg",{className:e.className,stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}))}function b(e){return n.a.createElement("svg",{className:e.className,stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 512 512",size:25,height:25,width:25,xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}))}var y=a(73),S=a.n(y),x=a(74),w=a.n(x),T={logo:S.a,defaultBg:w.a},_=function(e){return T[e]},k=function(e){var t=e.dispatch,a=e.filters,c=e.location.pathname,o=a.search,s=void 0===o?"":o,i=Object(r.useRef)(null);function l(e){t({type:m.CLEAR_ITEMS_LIST}),t(u())}var E=Object(r.useCallback)(h()(l,300),[]);return n.a.createElement("div",{className:"Header center"},n.a.createElement(p.a,{color:"none",dark:!0,expand:"md",className:"Header_navbar"},n.a.createElement(f.a,{href:"#/home"},n.a.createElement("img",{src:_("logo"),alt:"logo",style:{maxHeight:35,opacity:.8},onClick:function(){e.history.push("/home")}})),n.a.createElement(g.a,{navbar:!0,className:"Header_wrapper center"},n.a.createElement("div",{className:"search-wrapper center"},"/home"===c?n.a.createElement("div",{className:"search center",onClick:function(){i.current.focus()}},n.a.createElement(v,{className:"Header_icon search_icon"}),n.a.createElement("input",{className:"search_input",placeholder:"Search by name",onChange:function(e){var a=e.target.value;t(d({search:a,sort:"",order:"",skip:0})),E(a)},value:s,ref:i}),s.length?n.a.createElement(b,{onClick:function(){t(d({search:"",sort:"",order:"",skip:0})),l()}}):null):void 0))))},O=Object(l.h)((function(e){return n.a.createElement(k,e)})),I=Object(i.b)((function(e){return{filters:e.itemsReducer.filters}}))(O),j=function(e){var t=e.width,a=void 0===t?150:t,r=e.height,c=void 0===r?150:r,o=e.colorFirst,s=void 0===o?"#1d3f72":o,i=e.colorSecond,l=void 0===i?"#5699d2":i,m=e.strokeWidth,u=void 0===m?4:m,d=e.radiusFirst,E=void 0===d?40:d,h=e.radiusSecond,p=void 0===h?35:h;return n.a.createElement("svg",{width:a,height:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"lds-double-ring"},n.a.createElement("circle",{cx:50,cy:50,"ng-attr-r":"{{config.radius}}","ng-attr-stroke-width":"{{config.width}}","ng-attr-stroke":"{{config.c1}}","ng-attr-stroke-dasharray":"{{config.dasharray}}",fill:"none",strokeLinecap:"round",r:E,strokeWidth:u,stroke:s,strokeDasharray:"62.83185307179586 62.83185307179586",transform:"rotate(199.69 50 50)"},n.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"0.9s",begin:"0s",repeatCount:"indefinite"})),n.a.createElement("circle",{cx:50,cy:50,"ng-attr-r":"{{config.radius2}}","ng-attr-stroke-width":"{{config.width}}","ng-attr-stroke":"{{config.c2}}","ng-attr-stroke-dasharray":"{{config.dasharray2}}","ng-attr-stroke-dashoffset":"{{config.dashoffset2}}",fill:"none",strokeLinecap:"round",r:p,strokeWidth:u,stroke:l,strokeDasharray:"54.97787143782138 54.97787143782138",strokeDashoffset:"54.97787143782138",transform:"rotate(-199.69 50 50)"},n.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;-360 50 50",keyTimes:"0;1",dur:"0.9s",begin:"0s",repeatCount:"indefinite"})))},N=Object(i.b)((function(e){return{loading:e.loadingReducer.loadState}}))((function(e){var t=e.loading,a=Object(l.g)(),c=Object(i.c)(),o=a.location.pathname,s=void 0===o?"":o;Object(r.useEffect)((function(){c(u())}),[]);var m=function(e){a.push({pathname:e})};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"fixed-body",style:{opacity:.8,backgroundImage:"url(".concat(_("defaultBg"),")"),backgroundPosition:"top",backgroundSize:"cover"}}),t&&n.a.createElement("div",{className:"loading"},n.a.createElement(j,null)),n.a.createElement(I,null),n.a.createElement("div",{className:"Layout"},n.a.createElement("div",{className:"Layout_body"},n.a.createElement("div",{className:"Layout_tab"},n.a.createElement("div",{onClick:m.bind("","/home"),className:"tab ".concat("/home"===s?"active":"")},"View my Speeches"),n.a.createElement("div",{onClick:m.bind("","/add-speech"),className:"tab ".concat("/add-speech"===s?"active":"")},"Submit a new Speech")),e.children)))})),M=a(21),C=a(181),D=a(182),A=a(183),L=a(184);var R=function(e){var t=new Date,a=t.getMonth()+1,c="".concat(t.getFullYear(),"-").concat(a.toString().padStart(2,"0"),"-").concat(t.getDate()),o=Object(i.c)(),s=Object(l.g)(),u=Object(r.useState)(""),d=Object(M.a)(u,2),E=d[0],h=d[1],p=Object(r.useState)(""),f=Object(M.a)(p,2),g=f[0],v=f[1],b=Object(r.useState)(""),y=Object(M.a)(b,2),S=y[0],x=y[1],w=Object(r.useState)(c),T=Object(M.a)(w,2),_=T[0],k=T[1],O=Object(r.useState)(""),I=Object(M.a)(O,2),j=I[0],N=I[1];return Object(r.useEffect)((function(){if(e.item&&e.item.id){var t=e.item,a=t.id,r=void 0===a?"":a,n=t.text,c=void 0===n?"":n,o=t.authorName,s=void 0===o?"":o,i=t.keywords,l=void 0===i?"":i,m=t.createdDate,u=void 0===m?"":m;h(c),v(s),x(l),N(r),k(u)}}),[e.item]),n.a.createElement("div",{className:"AddItem"},n.a.createElement(C.a,{onSubmit:function(e){if(e.preventDefault(),E&&g&&S){var t=new Date;if(j)o({type:m.UPDATE_ITEM,payload:{id:j,createdDate:_,text:E,authorName:g,keywords:S}});else{var a=t.getTime();o(function(e){return{type:m.ADD_ITEM,payload:e}}({id:a,createdDate:_,text:E,authorName:g,keywords:S})),s.push("/home")}}}},n.a.createElement(D.a,null,n.a.createElement(A.a,{type:"textarea",rows:"6",name:"text",id:"exampleText",value:E,onChange:function(e){return h(e.target.value)},placeholder:"Speech content show here"})),n.a.createElement("div",{className:"AddItem_row"},n.a.createElement(D.a,null,n.a.createElement(A.a,{type:"text",name:"name",value:g,id:"exampleEmail",onChange:function(e){return v(e.target.value)},placeholder:"Auther"})),n.a.createElement(D.a,null,n.a.createElement(A.a,{type:"text",name:"keywords",value:S,onChange:function(e){return x(e.target.value)},id:"keywords",placeholder:"Speech keywords"})),n.a.createElement(D.a,null,n.a.createElement(A.a,{type:"date",name:"date",value:_,onChange:function(e){return k(e.target.value)},placeholder:"Date"}))),n.a.createElement("div",{className:"footer_btn"},n.a.createElement(L.a,{type:"button",color:"danger",onClick:function(){o({type:m.DELETE_ITEM,payload:{id:j}})}},"Delete"),n.a.createElement(L.a,{type:"submit",disabled:!E||!g||!S},"Save"))))},U=Object(i.b)((function(e){return{items:e.itemsReducer.items}}))((function(e){var t=e.items,a=Object(r.useState)(0),c=Object(M.a)(a,2),o=c[0],s=c[1];return n.a.createElement("div",{className:"Home"},t.length?n.a.createElement("div",{className:"Home_row"},n.a.createElement("div",{className:"Home_col-1"},t.map((function(e,t){return n.a.createElement("div",{key:e.id,className:"Home_item ".concat(o===t?"active":""),onClick:s.bind("",t)},n.a.createElement("span",{className:"name"},e.authorName),o===t&&n.a.createElement("span",null,"\u25ba"))}))),n.a.createElement("div",{className:"Home_col-2"},n.a.createElement(R,{item:t[o]}))):n.a.createElement("div",{className:"Home_noResult"},n.a.createElement("h4",{className:"title"},"No result found")))})),G=function(){return n.a.createElement(N,null,n.a.createElement(l.d,null,n.a.createElement(l.b,{path:"/home",exact:!0,component:U}),n.a.createElement(l.b,{path:"/add-speech",exact:!0,component:R}),n.a.createElement(l.a,{to:"/home"})))},H=a(18),F=a(80),P=a(14),B=a.n(P),W=a(16),z=a(76),J=new Date,V=J.getMonth()+1,Y="".concat(J.getFullYear(),"-").concat(V.toString().padStart(2,"0"),"-").concat(J.getDate()),q=[{id:1582460208558,text:"some text some text some text some text some text some text some text some text ",authorName:"author-name",createdDate:Y,keywords:"keywords, keywords"},{id:1582460208557,text:"some text some text some text some text some text some text some text some text ",authorName:"author-name",createdDate:Y,keywords:"keywords, keywords"},{id:1582460208556,text:"some text some text some text some text some text some text some text some text ",authorName:"author-name",createdDate:Y,keywords:"keywords, keywords"},{id:1582460208555,text:"some text some text some text some text some text some text some text some text ",authorName:"author-name",createdDate:Y,keywords:"keywords, keywords"}],$=a(77),K=a.n($),Q=function(e){var t={},a=e.reqUrl.split("?");a.length>1&&a[1].split("&").map((function(e){var a=e.split("=");return t[a[0]]=a[1]?a[1]:"",""}));return new Promise(function(){var e=Object(z.a)(B.a.mark((function e(a,r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=localStorage.getItem("items"))?(n=q,localStorage.setItem("items",JSON.stringify(n))):n=JSON.parse(n),!n.length){e.next=7;break}return K()(t.name)||(n=n.filter((function(e){return e.authorName.toLowerCase().includes(t.name.toLowerCase())}))),e.abrupt("return",a({data:{content:n}}));case 7:return e.abrupt("return",r({}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},X=B.a.mark(ee),Z=B.a.mark(te);function ee(){var e,t,a,r,n;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(W.e)((function(e){return e.itemsReducer.filters}));case 2:return e=c.sent,t=e.search,r="posts",(a=void 0===t?"":t).length&&(a=a.trim().toLowerCase(),r="?".concat(r,"&name=").concat(a)),c.prev=6,c.next=9,Object(W.b)(Q,{method:"GET",reqUrl:r});case 9:return n=c.sent,c.next=12,Object(W.d)({type:m.GET_ITEMS_SUCCESS,payload:n.data});case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(6),c.next=18,Object(W.d)({type:m.GET_ITEMS_FAILURE,payload:[]});case 18:case"end":return c.stop()}}),X,null,[[6,14]])}function te(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([Object(W.f)(m.GET_ITEMS,ee)]);case 2:case"end":return e.stop()}}),Z)}var ae=B.a.mark(re);function re(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([Object(W.c)(te)]);case 2:case"end":return e.stop()}}),ae)}var ne={loadState:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.UPDATE_LOADING:return{loadState:t.payload};default:return e}},oe=a(28),se=a(10),ie=a(79),le=a.n(ie),me={items:[],itemsApiInProgress:!1,totalItemCount:1,filters:{search:"",limit:20,skip:0}},ue=function(e){localStorage.setItem("items",JSON.stringify(e))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GET_ITEMS:return Object(se.a)({},e,{itemsApiInProgress:!0});case m.GET_ITEMS_FAILURE:return Object(se.a)({},e,{itemsApiInProgress:!1});case m.GET_ITEMS_SUCCESS:return Object(se.a)({},e,{items:[].concat(Object(oe.a)(e.items),Object(oe.a)(t.payload.content)),itemsApiInProgress:!1,filters:Object(se.a)({},e.filters,{skip:e.filters.skip+e.filters.limit})});case m.UPDATE_ITEM:var a=Object(oe.a)(e.items),r=le()(e.items,(function(e){return e.id===t.payload.id}));return-1!==r&&(a[r]=t.payload,ue(a)),Object(se.a)({},e,{items:a});case m.ADD_ITEM:var n=[t.payload].concat(Object(oe.a)(e.items));return ue(n),Object(se.a)({},e,{items:n});case m.DELETE_ITEM:var c=e.items.filter((function(e){return e.id!==t.payload.id}));return ue(c),Object(se.a)({},e,{items:c});case m.CLEAR_ITEMS_LIST:return Object(se.a)({},e,{items:[]});case m.ITEMS_FILTER_CHANGE:return Object(se.a)({},e,{filters:Object(se.a)({},e.filters,{},t.payload)});default:return e}},Ee={name:""},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SAVE_USER:return Object(se.a)({},e,{},t.payload);case m.USER_LOGOUT:return localStorage.clear(),Object(se.a)({},Ee);default:return e}},pe=Object(H.c)({loadingReducer:ce,itemsReducer:de,userReducer:he}),fe=Object(F.a)(),ge=Object(H.e)(pe,Object(H.a)(fe));fe.run(re);var ve=ge;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(i.a,{store:ve},n.a.createElement(s.a,{basename:"greytip_frontend/"},n.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports=a.p+"static/media/logo.82a318cc.png"},74:function(e,t,a){e.exports=a.p+"static/media/defaultBg.d4cee3db.jpg"},82:function(e,t,a){e.exports=a(177)},92:function(e,t,a){e.exports={theme:"#b22222",themeBg:"rgba(255,255,255,0.8)"}},93:function(e,t,a){e.exports={theme:"#b22222",themeBg:"rgba(255,255,255,0.8)"}}},[[82,1,2]]]);
//# sourceMappingURL=main.28c57994.chunk.js.map